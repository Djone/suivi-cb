<h2 mat-dialog-title>{{ dialogTitle }}</h2>

<mat-dialog-content>
  <div class="p-fluid">
    <div class="p-field mb-3">
      <label for="label" class="block mb-2">Libellé *</label>
      <input
        pInputText
        id="label"
        type="text"
        [(ngModel)]="data.category.label"
        placeholder="Entrez le libellé"
        class="w-full"
        autofocus />
      <small class="p-error" *ngIf="data.category.label && data.category.label.trim() === ''">
        Le libellé est requis.
      </small>
    </div>

    <div class="p-field mb-3">
      <label for="financialFlowId" class="block mb-2">Flux financier *</label>
      <p-dropdown
        id="financialFlowId"
        [options]="financialFlowList"
        [(ngModel)]="data.category.financialFlowId"
        optionLabel="name"
        optionValue="id"
        placeholder="Sélectionnez un flux"
        [style]="{'width': '100%'}">
      </p-dropdown>
    </div>
  </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <p-button
    label="Annuler"
    icon="pi pi-times"
    (onClick)="cancel()"
    styleClass="p-button-text p-button-secondary">
  </p-button>
  <p-button
    [label]="isNew ? 'Créer' : 'Enregistrer'"
    icon="pi pi-check"
    (onClick)="save()"
    [disabled]="!isFormValid()"
    styleClass="p-button-success">
  </p-button>
</mat-dialog-actions>
